<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Исправление кодировки</title>
</head>
<body>
    <h1>Исправление текста с неправильной кодировкой</h1>
    
       <textarea id="txtWrong" rows="10" cols="40"></textarea>
    <br>
     <input id="btnFix" type="button" value="Fix text" onclick="fixEncoding()"/>
    <h1>Исправленный текст:</h1> 
    <textarea id="fixed" rows="10" cols="40"></textarea>
    <br/>
   
    <script>
        function fixEncoding() {
            // Преобразуем текст обратно в байты Latin-1
          let text=document.getElementById("txtWrong").value;
            const bytes = Array.from(text, char => char.charCodeAt(0));
            // Декодируем как Windows-1251
            const decoder = new TextDecoder("windows-1251");
            const fixedText = decoder.decode(new Uint8Array(bytes));
              // Отображение на странице
             document.getElementById("fixed").textContent = fixedText;
        }
      
    </script>
    

</body>
</html>
